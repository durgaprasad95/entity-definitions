domain: INFRA
type: CONFLUENTCLOUDCLUSTER
goldenTags:
- principal_id
- kafka_id
configuration:
  entityExpirationTime: DAILY
  alertable: true

synthesis:
  rules:
  - compositeIdentifier:
      separator: ":"
      attributes:
        - principal_id
        - kafka_id
    name: kafka.cluster_name
    encodeIdentifierInGUID: true
    conditions:
      - attribute: eventType
        value: Metric
      - attribute: metricName
        prefix: confluent_kafka_server_
      - attribute: instrumentation.provider
        value: opentelemetry
      - attribute: otel.library.name
        value: otelcol/prometheusreceiver
  tags:
    entity.name:
    instrumentation.provider:
    newrelic.source:
    otel.library.name:
      entityTagName: instrumentation.name