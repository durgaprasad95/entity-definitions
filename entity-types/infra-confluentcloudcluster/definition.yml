domain: INFRA
type: CONFLUENTCLOUDCLUSTER
goldenTags:
- principal_id
- kafka_id
configuration:
  entityExpirationTime: DAILY
  alertable: true

dashboardTemplates:
  opentelemetry:
    template: newrelic_dashboard.json
    filterNRQLByEntityID: false

synthesis:
  rules:
  - compositeIdentifier:
      separator: ":"
      attributes:
        - principal_id
        - kafka_id
    name: kafka.cluster_name
    encodeIdentifierInGUID: true
    conditions:
      - attribute: eventType
        value: Metric
      - attribute: metricName
        prefix: confluent_kafka_server_
      - attribute: instrumentation.provider
        value: opentelemetry
  tags:
    entity.name:
    instrumentation.provider:
    newrelic.source: